diff -urNbB php-4.4.1.org/sapi/apache2handler/sapi_apache2.c php-4.4.1/sapi/apache2handler/sapi_apache2.c
--- php-4.4.1.org/sapi/apache2handler/sapi_apache2.c	2005-10-12 23:41:36.000000000 +0200
+++ php-4.4.1/sapi/apache2handler/sapi_apache2.c	2005-11-02 18:58:52.000000000 +0100
@@ -18,7 +18,7 @@
    +----------------------------------------------------------------------+
  */
 
-/* $Id$ */
+/* $Id$ */
 
 #include <fcntl.h>
 
@@ -535,7 +535,7 @@
 		if (!parent_req) {
 			parent_req = ctx->r;
 		}
-		if (parent_req && strcmp(parent_req->handler, PHP_MAGIC_TYPE) && strcmp(parent_req->handler, PHP_SOURCE_MAGIC_TYPE) && strcmp(parent_req->handler, PHP_SCRIPT)) {
+		if (parent_req && parent_req->handler && strcmp(parent_req->handler, PHP_MAGIC_TYPE) && strcmp(parent_req->handler, PHP_SOURCE_MAGIC_TYPE) && strcmp(parent_req->handler, PHP_SCRIPT)) {
 			if (php_apache_request_ctor(r, ctx TSRMLS_CC)!=SUCCESS) {
 				zend_bailout();
 			}
