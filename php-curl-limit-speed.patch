diff -urNp -x '*.orig' php-5.2.17.org/ext/curl/interface.c php-5.2.17/ext/curl/interface.c
--- php-5.2.17.org/ext/curl/interface.c	2021-10-23 19:05:53.836458431 +0200
+++ php-5.2.17/ext/curl/interface.c	2021-10-23 19:05:56.283125097 +0200
@@ -481,6 +481,14 @@ PHP_MINIT_FUNCTION(curl)
 	REGISTER_CURL_CONSTANT(CURLOPT_TCP_NODELAY);
 #endif
 	REGISTER_CURL_CONSTANT(CURLOPT_HTTP200ALIASES);
+
+/* Added constants to support limiting the transfer speed in PHP */
+/* Fixed by Tijnema (admin@tijnema.info) */
+#if LIBCURL_VERSION_NUM > 0x070fff /* CURLOPT_MAX_SEND_SPEED_LARGE and CURLOPT_MAX_SEND_SPEED_LARGE are available since curl 7.16.0 */
+	REGISTER_CURL_CONSTANT(CURLOPT_MAX_SEND_SPEED_LARGE);
+	REGISTER_CURL_CONSTANT(CURLOPT_MAX_RECV_SPEED_LARGE);
+#endif
+
 	REGISTER_CURL_CONSTANT(CURL_TIMECOND_IFMODSINCE);
 	REGISTER_CURL_CONSTANT(CURL_TIMECOND_IFUNMODSINCE);
 	REGISTER_CURL_CONSTANT(CURL_TIMECOND_LASTMOD);
@@ -1371,6 +1379,12 @@ static int _php_curl_setopt(php_curl *ch
 		case CURLOPT_REDIR_PROTOCOLS:
 		case CURLOPT_PROTOCOLS:
 #endif
+/* Added case options to support limiting the transfer speed in PHP */
+/* Fixed by Tijnema (admin@tijnema.info) */
+#if LIBCURL_VERSION_NUM > 0x070fff /* CURLOPT_MAX_SEND_SPEED_LARGE and CURLOPT_MAX_SEND_SPEED_LARGE are available since curl 7.16.0 */
+		case CURLOPT_MAX_SEND_SPEED_LARGE:
+		case CURLOPT_MAX_RECV_SPEED_LARGE:
+#endif
 			convert_to_long_ex(zvalue);
 #if LIBCURL_VERSION_NUM >= 0x71304
 			if ((option == CURLOPT_PROTOCOLS || option == CURLOPT_REDIR_PROTOCOLS) &&
