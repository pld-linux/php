--- php-src.org/ext/standard/string.c	2006/04/25 12:48:41	1.445.2.14
+++ php-src/ext/standard/string.c	2006/05/10 13:07:15	1.445.2.14.2.1
@@ -4894,7 +4894,7 @@
 		offset = (offset < 0) ? 0 : offset;
 	}
 
-	if ((offset + len) >= s1_len) {
+	if ((offset + len) > s1_len) {
 		php_error_docref(NULL TSRMLS_CC, E_WARNING, "The start position cannot exceed initial string length");
 		RETURN_FALSE;
 	}
