--- php-7.2.34/acinclude.m4.orig	2025-01-23 20:45:18.432571977 +0100
+++ php-7.2.34/acinclude.m4	2025-01-23 20:54:20.252520613 +0100
@@ -1349,12 +1349,13 @@
 #define _REENTRANT
 #include <sys/types.h>
 #include <dirent.h>
+#include <stdlib.h>
 
 #ifndef PATH_MAX
 #define PATH_MAX 1024
 #endif
 
-main() {
+int main() {
   DIR *dir;
   char entry[sizeof(struct dirent)+PATH_MAX];
   struct dirent *pentry = (struct dirent *) &entry;
@@ -1363,10 +1364,10 @@
   if (!dir) 
     exit(1);
   if (readdir_r(dir, (struct dirent *) entry, &pentry) == 0) {
-    close(dir);
+    closedir(dir);
     exit(0);
   }
-  close(dir);
+  closedir(dir);
   exit(1);
 }
     ],[
